
Network Enumeration with NMAP 

-F top 100 ports 

classics 
-sV services 
-sU UDP specific 
-sC Default scripts  

-D Decoy, random IP's within a range that you can specify, can use to look like you are within DMZ or registered to the DNS 

FootPrinting 
Enumeration should be a full picture, so really dive in. Understand the infrastructure well, services utilized internally, 
third party vendors and other really important aspects of the company for your penetration test. Real;ly Deep Dive. 

Guiding Questions through the enumeration
What can we see?
What reasons can we have for seeing it?
What image does what we see create for us?
What do we gain from it?
How can we use it?
What can we not see?
What reasons can there be that we do not see?
What image results for us from what we do not see?

There are layers to this enumeration based on the infrastrcuture and should look like this: 
1. Internet Presence	Identification of internet presence and externally accessible infrastructure.	Domains, Subdomains, vHosts, ASN, Netblocks, IP Addresses, Cloud Instances, Security Measures
2. Gateway	Identify the possible security measures to protect the company's external and internal infrastructure.	Firewalls, DMZ, IPS/IDS, EDR, Proxies, NAC, Network Segmentation, VPN, Cloudflare
3. Accessible Services	Identify accessible interfaces and services that are hosted externally or internally.	Service Type, Functionality, Configuration, Port, Version, Interface
4. Processes	Identify the internal processes, sources, and destinations associated with the services.	PID, Processed Data, Tasks, Source, Destination
5. Privileges	Identification of the internal permissions and privileges to the accessible services.	Groups, Users, Permissions, Restrictions, Environment
6. OS Setup	Identification of the internal components and systems setup.	OS Type, Patch Level, Network config, OS Environment, Configuration files, sensitive private files

Domain enumeration: 

Definietly look at the main website to get a feel for how it looks and the information that it provides. 
Be very careful to keep track of what you are able to find, and also be able to look and figure what are you NOT seeing. 

Check the Certificates to see what subdomains you can find
Also use shodan to dive deeper into these subdomains 

curl -s https://crt.sh/\?q\=<target-domain>\&output\=json | jq .	Certificate transparency.
for i in $(cat ip-addresses.txt);do shodan host $i;done	Scan each IP address in a list using Shodan. 

Cloud Resources: 

 One of the easiest and most used is Google search combined with Google Dorks. For example, we can use the Google Dorks inurl: and intext: 

https://buckets.grayhatwarfare.com/ find resources here

Staff

Job posts be telling you hella about the technologies that the company utilizes, for example if they are looking for a C++ dev you're in good luck memory coruption vulns will be coming your way 

Sharing projects on Github without hiding secrets can also be a dead giveaway 

FTP 

Vsftpd is the main server used on linux systems
ftp <FQDN/IP>	Interact with the FTP service on the target.
nc -nv <FQDN/IP> 21	Interact with the FTP service on the target.
telnet <FQDN/IP> 21	Interact with the FTP service on the target.
openssl s_client -connect <FQDN/IP>:21 -starttls ftp	Interact with the FTP service on the target using encrypted connection.
wget -m --no-passive ftp://anonymous:anonymous@<target>	Download all available files on the target FTP server.

Mostly Run on Port 21 

Get and put are important commands for moving and getting files from the ftp server. 

SMB 
SMB is a CIFS based file sharing protocols that is used by windows systems to share directories, files, printers and other thigns across a netowrk. 
Windows specifically will use things like NTLM and Kerberos to authenticate users 

Linux has Samba and Sambaclient to communicate with other servers. 

Some Important commands: 
smbclient -N -L //<FQDN/IP>	Null session authentication on SMB.
smbclient //<FQDN/IP>/<share>	Connect to a specific SMB share.
rpcclient -U "" <FQDN/IP>	Interaction with the target using RPC.
samrdump.py <FQDN/IP>	Username enumeration using Impacket scripts.
smbmap -H <FQDN/IP>	Enumerating SMB shares.
crackmapexec smb <FQDN/IP> --shares -u '' -p ''	Enumerating SMB shares using null session authentication.
enum4linux-ng.py <FQDN/IP> -A	SMB enumeration using enum4linux.

